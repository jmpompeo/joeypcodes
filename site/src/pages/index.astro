---
import BaseLayout from '../layouts/BaseLayout.astro';
import CTAButton from '../components/CTAButton.astro';
import ProjectCard from '../components/ProjectCard.astro';
import { projects as projectData } from '../data/projects';

const projects = [...projectData].sort((a, b) => a.order - b.order).slice(0, 4);

const skillPillars = ['.NET', 'Azure Functions', 'CI/CD', 'Bicep', 'Git', 'Unit Testing'];
---

<BaseLayout
  title="C#/.NET engineer building Azure-backed apps."
  description="I design and build scalable, automated solutions in .NET and Azure — with clean code, solid testing, and CI/CD best practices."
>
  <section class="space-y-12">
    <div class="space-y-8 text-[var(--color-text-muted)]">
      <div class="space-y-6">
        <p class="text-xs uppercase tracking-[0.3em] text-[var(--color-accent)]">Azure-focused engineer</p>
        <h1 class="text-4xl font-bold text-[var(--color-text)] md:text-5xl">
          C#/.NET engineer building Azure-backed apps.
        </h1>
        <p class="max-w-prose text-lg text-[var(--color-text-muted)]">
          I design and build scalable, automated solutions in .NET and Azure — with clean code,
          solid testing, and CI/CD best practices.
        </p>
      </div>
      <div class="flex flex-wrap gap-3 text-xs uppercase tracking-wide text-[var(--color-text-muted)]">
        {skillPillars.map((skill) => (
          <span class="rounded-full border border-[var(--color-border)] bg-[var(--color-surface)] px-4 py-2">{skill}</span>
        ))}
      </div>
      <div class="flex flex-wrap justify-center gap-4">
        <CTAButton href="/assets/Joey-Pompeo-Resume.pdf" download variant="primary">
          Download Resume
        </CTAButton>
        <CTAButton href="/contact" variant="secondary">
          Hire Me
        </CTAButton>
      </div>
    </div>

    <section class="space-y-6">
      <div class="flex items-center justify-between gap-4">
        <h2 class="text-2xl font-semibold text-[var(--color-text)]">Featured Projects</h2>
        <a class="text-sm text-[var(--color-accent)] underline-offset-4 hover:underline" href="/projects">
          View all projects
        </a>
      </div>
      <div class="grid gap-6 md:grid-cols-2">
        {projects.map((project) => (
          <ProjectCard project={project} />
        ))}
      </div>
    </section>

    <section class="space-y-6">
      <div class="flex items-center justify-between gap-4">
        <h2 class="text-2xl font-semibold text-[var(--color-text)]">Latest Posts</h2>
        <a class="text-sm text-[var(--color-accent)] underline-offset-4 hover:underline" href="/blog">
          Read the blog
        </a>
      </div>
      <p class="rounded-2xl border border-dashed border-[var(--color-border)] bg-[var(--color-surface-alt)] p-6 text-sm text-[var(--color-text-muted)]">
        Content coming soon.
      </p>
    </section>
  </section>
</BaseLayout>
