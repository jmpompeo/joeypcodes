---
import BaseLayout from '../layouts/BaseLayout.astro';
import ProjectCard from '../components/ProjectCard.astro';
import { getCollection } from 'astro:content';

const projects = (await getCollection('projects'))
  .filter(({ data }) => !data.draft)
  .sort((a, b) => a.data.order - b.data.order);
---

<BaseLayout title="Project case studies" description="A snapshot of the Azure and .NET projects I’ve delivered — from automation toolkits to real-time observability dashboards.">
  <section class="space-y-8">
    <div class="space-y-3">
      <p class="text-xs uppercase tracking-[0.3em] text-primary">Case studies</p>
      <h1 class="text-4xl font-bold text-white md:text-5xl">Highlighted projects</h1>
      <p class="max-w-prose text-text-light/80">
        Each project blends automation, testing, and observability so teams ship faster and safer.
      </p>
    </div>
    <div class="grid gap-6 md:grid-cols-2">
      {projects.map((project) => (
        <ProjectCard project={project} />
      ))}
    </div>
  </section>
</BaseLayout>
