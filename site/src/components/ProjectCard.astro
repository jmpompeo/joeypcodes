---
import CTAButton from './CTAButton.astro';
import type { CollectionEntry } from 'astro:content';

type Props = {
  project: CollectionEntry<'projects'>;
};

const { project } = Astro.props as Props;
const { data, slug } = project;
---

<article class="flex flex-col gap-4 rounded-2xl border border-white/10 bg-surface-dark/70 p-6 shadow-lg shadow-black/10 transition hover:border-primary focus-within:border-primary">
  <header class="space-y-2">
    <h3 class="text-xl font-semibold text-white">{data.title}</h3>
    <p class="text-sm text-text-light/80">{data.summary}</p>
  </header>
  {data.tags.length > 0 && (
    <div class="flex flex-wrap gap-2 text-xs uppercase tracking-wide text-text-light/70">
      {data.tags.map((tag) => (
        <span class="rounded-full border border-white/10 px-3 py-1">{tag}</span>
      ))}
    </div>
  )}
  <footer class="mt-auto flex items-center justify-between gap-3">
    <span class="text-sm text-text-light/70">Role: {data.role}</span>
    <CTAButton href={`/projects/${slug}`} size="sm" variant="secondary">
      View Case Study
    </CTAButton>
  </footer>
</article>
