---
import type { CollectionEntry } from 'astro:content';

const { post } = Astro.props as {
  post: CollectionEntry<'posts'>;
};

const { data, slug } = post;
const publishedDate = new Date(data.published).toLocaleDateString(undefined, {
  month: 'short',
  day: 'numeric',
  year: 'numeric',
});
---

<article class="flex flex-col gap-3 rounded-2xl border border-white/10 bg-surface-dark/70 p-5 transition hover:border-primary focus-within:border-primary">
  <header class="space-y-1">
    <p class="text-xs uppercase tracking-wide text-text-light/60">{publishedDate}</p>
    <h3 class="text-lg font-semibold text-white">
      <a class="transition hover:text-primary focus-visible:text-primary" href={`/posts/${slug}`}>
        {data.title}
      </a>
    </h3>
  </header>
  <p class="text-sm text-text-light/80">{data.description}</p>
  <ul class="mt-auto flex flex-wrap gap-2 text-xs uppercase tracking-wide text-text-light/70">
    {data.tags.map((tag) => (
      <li class="rounded-full border border-white/10 px-3 py-1">{tag}</li>
    ))}
  </ul>
</article>
